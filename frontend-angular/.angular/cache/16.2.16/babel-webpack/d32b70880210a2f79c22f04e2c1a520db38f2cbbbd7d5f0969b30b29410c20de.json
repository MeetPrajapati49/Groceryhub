{"ast":null,"code":"import { environment } from '../../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/order.service\";\nimport * as i2 from \"@angular/common\";\nfunction OrdersComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelement(1, \"div\", 5);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Loading your orders...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction OrdersComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7);\n    i0.ɵɵtext(2, \"\\uD83D\\uDCE6\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtext(4, \"No Orders Yet\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6, \"Start shopping to see your orders here\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"a\", 8);\n    i0.ɵɵtext(8, \"Browse Products\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction OrdersComponent_div_5_div_1_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵelement(1, \"img\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r8 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r5.getImage(item_r8.image), i0.ɵɵsanitizeUrl)(\"alt\", item_r8.name);\n  }\n}\nfunction OrdersComponent_div_5_div_1_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const o_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"+\", o_r4.items.length - 4, \"\");\n  }\n}\nfunction OrdersComponent_div_5_div_1_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31)(1, \"div\", 32);\n    i0.ɵɵelement(2, \"div\", 33);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4, \"Ordered\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 32);\n    i0.ɵɵelement(6, \"div\", 33);\n    i0.ɵɵelementStart(7, \"span\");\n    i0.ɵɵtext(8, \"Processing\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 32);\n    i0.ɵɵelement(10, \"div\", 33);\n    i0.ɵɵelementStart(11, \"span\");\n    i0.ɵɵtext(12, \"Shipped\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 32);\n    i0.ɵɵelement(14, \"div\", 33);\n    i0.ɵɵelementStart(15, \"span\");\n    i0.ɵɵtext(16, \"Delivered\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const o_r4 = i0.ɵɵnextContext().$implicit;\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"active\", ctx_r7.isStepActive(o_r4.status, \"Pending\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"active\", ctx_r7.isStepActive(o_r4.status, \"Processing\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"active\", ctx_r7.isStepActive(o_r4.status, \"Shipped\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"active\", ctx_r7.isStepActive(o_r4.status, \"Delivered\"));\n  }\n}\nfunction OrdersComponent_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\", 12)(2, \"div\", 13)(3, \"span\", 14);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 15);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"span\", 16);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 17);\n    i0.ɵɵtemplate(10, OrdersComponent_div_5_div_1_div_10_Template, 2, 2, \"div\", 18);\n    i0.ɵɵtemplate(11, OrdersComponent_div_5_div_1_div_11_Template, 2, 1, \"div\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 20)(13, \"div\", 21)(14, \"span\", 22);\n    i0.ɵɵtext(15, \"Total\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"span\", 23);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 24)(19, \"span\", 25);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"span\", 26);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(23, OrdersComponent_div_5_div_1_div_23_Template, 17, 8, \"div\", 27);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const o_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Order #\", o_r4._id.slice(-8).toUpperCase(), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3.formatDate(o_r4.createdAt));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r3.getStatusClass(o_r4.status));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(o_r4.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", o_r4.items.slice(0, 4));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", o_r4.items.length > 4);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\\u20B9\", o_r4.totalAmount, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(o_r4.paymentMethod);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", o_r4.items.length, \" item\", o_r4.items.length > 1 ? \"s\" : \"\", \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", o_r4.status !== \"Cancelled\");\n  }\n}\nfunction OrdersComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtemplate(1, OrdersComponent_div_5_div_1_Template, 24, 11, \"div\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.orders);\n  }\n}\nexport let OrdersComponent = /*#__PURE__*/(() => {\n  class OrdersComponent {\n    constructor(order) {\n      this.order = order;\n      this.orders = [];\n      this.loading = true;\n    }\n    ngOnInit() {\n      this.order.myOrders().subscribe({\n        next: res => {\n          this.orders = res.orders || res;\n          this.loading = false;\n        },\n        error: () => this.loading = false\n      });\n    }\n    formatDate(date) {\n      return new Date(date).toLocaleDateString('en-IN', {\n        day: 'numeric',\n        month: 'short',\n        year: 'numeric'\n      });\n    }\n    getImage(img) {\n      if (!img) return '/assets/placeholder.svg';\n      if (/^https?:\\/\\//.test(img)) return img;\n      if (img.startsWith('/uploads')) return `${environment.backendBase}${img}`;\n      return img;\n    }\n    getStatusClass(status) {\n      return 'status-' + status.toLowerCase();\n    }\n    isStepActive(currentStatus, step) {\n      const steps = ['Pending', 'Processing', 'Shipped', 'Delivered'];\n      const currentIndex = steps.indexOf(currentStatus);\n      const stepIndex = steps.indexOf(step);\n      return stepIndex <= currentIndex;\n    }\n    static {\n      this.ɵfac = function OrdersComponent_Factory(t) {\n        return new (t || OrdersComponent)(i0.ɵɵdirectiveInject(i1.OrderService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: OrdersComponent,\n        selectors: [[\"app-orders\"]],\n        decls: 6,\n        vars: 3,\n        consts: [[1, \"orders-container\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"empty\", 4, \"ngIf\"], [\"class\", \"orders-list\", 4, \"ngIf\"], [1, \"loading\"], [1, \"spinner\"], [1, \"empty\"], [1, \"empty-icon\"], [\"href\", \"/products\", 1, \"btn-shop\"], [1, \"orders-list\"], [\"class\", \"order-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"order-card\"], [1, \"order-header\"], [1, \"order-info\"], [1, \"order-id\"], [1, \"order-date\"], [1, \"status-badge\", 3, \"ngClass\"], [1, \"order-items\"], [\"class\", \"item-thumb\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"more-items\", 4, \"ngIf\"], [1, \"order-footer\"], [1, \"order-total\"], [1, \"label\"], [1, \"amount\"], [1, \"order-meta\"], [1, \"payment-method\"], [1, \"item-count\"], [\"class\", \"order-timeline\", 4, \"ngIf\"], [1, \"item-thumb\"], [3, \"src\", \"alt\"], [1, \"more-items\"], [1, \"order-timeline\"], [1, \"step\"], [1, \"dot\"]],\n        template: function OrdersComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n            i0.ɵɵtext(2, \"My Orders\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(3, OrdersComponent_div_3_Template, 4, 0, \"div\", 1);\n            i0.ɵɵtemplate(4, OrdersComponent_div_4_Template, 9, 0, \"div\", 2);\n            i0.ɵɵtemplate(5, OrdersComponent_div_5_Template, 2, 1, \"div\", 3);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.orders.length === 0);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.orders.length > 0);\n          }\n        },\n        dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf],\n        styles: [\".orders-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:24px}h1[_ngcontent-%COMP%]{margin:0 0 24px;font-size:28px}.loading[_ngcontent-%COMP%], .empty[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #eee;border-top-color:#00a9a5;border-radius:50%;margin:0 auto 16px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px}.empty[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px}.empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888;margin:0 0 24px}.btn-shop[_ngcontent-%COMP%]{display:inline-block;padding:12px 32px;background:linear-gradient(135deg,#00A9A5,#00D4D0);color:#fff;text-decoration:none;border-radius:8px;font-weight:600}.order-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #00000014;margin-bottom:16px;overflow:hidden}.order-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #f0f0f0}.order-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.order-id[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.order-date[_ngcontent-%COMP%]{color:#888;font-size:13px}.status-badge[_ngcontent-%COMP%]{padding:6px 12px;border-radius:20px;font-size:12px;font-weight:600}.status-pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.status-processing[_ngcontent-%COMP%]{background:#cce5ff;color:#004085}.status-shipped[_ngcontent-%COMP%], .status-delivered[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.status-cancelled[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.order-items[_ngcontent-%COMP%]{display:flex;gap:8px;padding:16px 20px;border-bottom:1px solid #f0f0f0}.item-thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:8px;object-fit:cover;border:1px solid #eee}.more-items[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:8px;background:#f5f5f5;display:flex;align-items:center;justify-content:center;font-size:12px;color:#666;font-weight:600}.order-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px}.order-total[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#888;font-size:13px;margin-right:8px}.order-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#00a9a5}.order-meta[_ngcontent-%COMP%]{display:flex;gap:16px;color:#888;font-size:13px}.payment-method[_ngcontent-%COMP%]{background:#f5f5f5;padding:4px 10px;border-radius:4px}.order-timeline[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:16px 20px;background:#fafafa}.step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:6px;flex:1;position:relative}.step[_ngcontent-%COMP%]:not(:last-child):after{content:\\\"\\\";position:absolute;top:8px;left:50%;width:100%;height:2px;background:#ddd;z-index:0}.step.active[_ngcontent-%COMP%]:not(:last-child):after{background:#00A9A5}.dot[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50%;background:#ddd;z-index:1}.step.active[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background:#00A9A5}.step[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px;color:#888}.step.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#00a9a5;font-weight:600}@media (max-width: 600px){.order-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.order-timeline[_ngcontent-%COMP%]{flex-wrap:wrap;gap:12px}.step[_ngcontent-%COMP%]:after{display:none}}\"]\n      });\n    }\n  }\n  return OrdersComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}